package anylayout.examples;

import static anylayout.extras.BorderLayoutEmulationUtility.useBorderLayoutEmulation;
import static fpeas.maybe.MaybeUtility.just;
import static fpeas.maybe.MaybeUtility.nothing;
import static javax.swing.BorderFactory.createLoweredBevelBorder;
import static javax.swing.WindowConstants.DISPOSE_ON_CLOSE;

import java.awt.Color;
import java.awt.Component;
import java.awt.Container;
import java.awt.Toolkit;
import java.awt.event.WindowListener;

import javax.swing.JButton;
import javax.swing.JComboBox;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JList;
import javax.swing.JTree;

import anylayout.extras.BorderLayoutEmulation;
import fpeas.maybe.Maybe;

final class BorderLayoutExample
{
	public static void run(final WindowListener windowListener)
	{
		Toolkit.getDefaultToolkit().setDynamicLayout(true);

		final JFrame frame=new JFrame();
		frame.setLocationByPlatform(true);
		frame.setDefaultCloseOperation(DISPOSE_ON_CLOSE);
		frame.addWindowListener(windowListener);
		final Container container=frame.getContentPane();

		final JLabel southComponent=new JLabel("A bit low");
		southComponent.setOpaque(true);
		southComponent.setBackground(Color.pink);

		final JList eastComponent=new JList(new String[]{"A Little Haiku","","I like lists","But they have Vector in their API","which makes me cry"});
		eastComponent.setBorder(createLoweredBevelBorder());

		final Maybe<Component> nothing=nothing();

		BorderLayoutEmulation emulation=useBorderLayoutEmulation(container).setNorth(just((Component)new JButton("Rather high")));
		emulation=emulation.setSouth(just((Component)southComponent)).setEast(just((Component)eastComponent));
		emulation=emulation.setWest(just((Component)new JTree())).setCentre(just((Component)new JButton("Centre")));
		emulation.setSouth(just((Component)new JComboBox())).setCentre(nothing);

		frame.pack();
		frame.setVisible(true);
	}
}